properties:
  - name: tile_map_data
    type: std::vector<std::vector<LabyrinthOfLore::WorldMap::Tile>>
    init_with: "{}"
functions:
  - name: load
    type: LabyrinthOfLore::WorldMap::TileMap
    body: |
      if (tile_map_data.size() == 0)
      {
         throw std::runtime_error("Attempting to load tilemap, but the passed tile_map_data is dimensionless");
      }

      int width = tile_map_data.size();
      int height = tile_map_data[0].size();

      LabyrinthOfLore::WorldMap::TileMap result;
      result.resize(width, height);

      for (unsigned y=0; y<width; y++)
      {
         for (unsigned x=0; x<height; x++)
         {
            result.set_tile(x, y, tile_map_data[y][x]);
         }
      }

      return result;
    body_dependency_symbols:
      - LabyrinthOfLore::WorldMap::TileMap
dependencies:
  - symbol: LabyrinthOfLore::WorldMap::TileMap
    headers: [ LabyrinthOfLore/WorldMap/TileMap.hpp ]
  - symbol: std::vector<std::vector<LabyrinthOfLore::WorldMap::Tile>>
    headers: [ vector, LabyrinthOfLore/WorldMap/Tile.hpp ]
