properties:
  - name: font
    type: ALLEGRO_FONT*
    init_with: nullptr
    constructor_arg: true
  - name: title_text
    type: LabyrinthOfLore::Hud::TitleText*
    init_with: nullptr
    constructor_arg: true
  - name: place
    type: allegro_flare::placement3d
    init_with: "allegro_flare::placement3d{}"
    constructor_arg: true
functions:
  - name: decorated_title
    type: std::string
    body: return std::string("- ") + title_text->get_headline_text() + " -";
  - name: render
    type: void
    body: |
      if (!font) throw std::runtime_error("Cannot draw TitleText with a nullptr font");
      if (!title_text) throw std::runtime_error("Cannot draw TitleText with a nullptr title_text");

      place.start_transform();

      //al_draw_rounded_rectangle(0, 0, place.size.x, place.size.y, 6, 6, al_color_name("red"), 3.0);
      al_draw_text(font, al_color_name("white"), place.size.x/2, place.size.y/2 - 10, ALLEGRO_ALIGN_CENTER, title_text->get_above_text().c_str());
      al_draw_text(font, al_color_name("white"), place.size.x/2, place.size.y/2 + 10, ALLEGRO_ALIGN_CENTER, decorated_title().c_str());

      place.restore_transform();
      return;
    body_dependency_symbols:
      - al_color_name
      - al_draw_rounded_rectangle
dependencies:
  - symbol: LabyrinthOfLore::Hud::TitleText*
    headers: [ LabyrinthOfLore/Hud/TitleText.hpp ]
  - symbol: ALLEGRO_FONT*
    headers: [ allegro5/allegro_font.h ]
  - symbol: al_color_name
    headers: [ allegro5/allegro_color.h ]
  - symbol: al_draw_rounded_rectangle
    headers: [ allegro5/allegro_primitives.h ]
  - symbol: allegro_flare::placement3d
    headers: [ allegro_flare/placement3d.h ]
  - symbol: x
    headers: [ y ]
functions:
  - name: run
    type: std::string
    body: return "Hello World!";
